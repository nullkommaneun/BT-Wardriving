export class GeoTracker{constructor(s=()=>{}){this.watchId=null;this.latest=null;this.statusCb=s}start(opts={}){if(!('geolocation'in navigator)){this.statusCb('Geolocation nicht verfÃ¼gbar.');return}if(this.watchId!==null)return;const{enableHighAccuracy=false,timeout=10000,maximumAge=5000}=opts;this.watchId=navigator.geolocation.watchPosition(p=>{const{latitude,longitude}=p.coords;this.latest={lat:latitude,lng:longitude,ts:Date.now()}},e=>{this.statusCb(`Geolocation-Fehler: ${e.message}`)},{enableHighAccuracy,timeout,maximumAge})}stop(){if(this.watchId!==null){navigator.geolocation.clearWatch(this.watchId);this.watchId=null}}getSnapshot(){return this.latest?{...this.latest}:null}}