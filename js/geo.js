export class GeoTracker{constructor(s=()=>{}){this.watchId=null;this.latest=null;this.statusCb=s}start(){if(!('geolocation'in navigator)){this.statusCb('Geolocation nicht verfÃ¼gbar.');return}if(this.watchId!==null)return;this.watchId=navigator.geolocation.watchPosition(p=>{const{latitude,longitude}=p.coords;this.latest={lat:latitude,lng:longitude,ts:Date.now()}},e=>{this.statusCb(`Geolocation-Fehler: ${e.message}`)},{enableHighAccuracy:true,timeout:10000,maximumAge:5000})}stop(){if(this.watchId!==null){navigator.geolocation.clearWatch(this.watchId);this.watchId=null}}getSnapshot(){return this.latest?{...this.latest}:null}}